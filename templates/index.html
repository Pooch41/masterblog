{% extends "layout.html" %}

{% block content %}
    <h1>Welcome to My Flask Blog!</h1>
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <ul id="flash-messages" style=" list-style: none; padding: 15px;
                margin: 10px auto; max-width: 600px; text-align: center;
                border-radius: 6px; opacity: 1; transition: opacity 1s ease-out;">
              {% for category, message in messages %}
                <li style=" font-size: 1.2em; font-weight: bold; color: #28a745; ">
                    {{ message }}
                </li>
              {% endfor %}
            </ul>
          {% endif %}
        {% endwith %}
    <a href="{{ url_for('add') }}" class="button-link">
        <button type="button">‚úçÔ∏è Add New Post</button> </a>
        {% for post in posts %}
            <div>
            <h2 style="margin: 0; padding-right: 10px;"> {{ post["title"] }} </h2>
            <span style="font-size: 0.9em; color: #555;"> by {{ post["author"] }} </span> <br />
            <small style="font-size: 0.7em; color: #555;"> ID: {{ post["id"] }} </small>
            <p> {{ post["content"] }}</p>
                <div>
                    <form method="POST" action="{{ url_for('like', post_id=post['id']) }}" class="like-form" style="display: inline;">
                        <input type="submit" value="üëç Like" class="like-button">
                        <span style="font-size: 0.9em;">({{ post["likes"] }})</span>
                    </form>

                    <a href="{{ url_for('update', post_id=post['id']) }}" class="update-link" style="text-decoration: none;">
                        <button type="button">Update</button>
                    </a><form method="POST" action="{{ url_for('delete', post_id=post['id']) }}" class="delete-form" style="display: inline;">
                        <input type="submit" value="Delete" class="delete-button"
                               onclick="return confirm('Are you sure you want to delete this post?');">
                    </form>
                </div>
            </div>
        {% endfor %}
{% endblock %}